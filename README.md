lightly modified from https://github.com/mitsuhiko/flask-sqlalchemy/tree/master/examples

